import React, { useState } from 'react'
import styles from './cluster.module.scss'
import ImageShadow from "react-image-shadow";
import "react-image-shadow/assets/index.css";

import {
  FaChevronLeft,
  FaChevronRight,
} from "react-icons/fa";


import {useDispatch,useSelector} from "react-redux"

import { addToClusters,removeFromClusters } from "../../../preferences/containers/area-cluster/slice"




let areas = [
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster0_SyGahw35Ix.jpg?tr=w-400,h-300",
      cluster: "c0", title: "Mathura ğŸ‡®ğŸ‡³",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster1_ZGKTFYuW3R.jpg?tr=w-400,h-300",
      cluster: "c1", title: "Matara ğŸ‡µğŸ‡±",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster2_XKyJ0UANo.jpg?tr=w-400,h-300",
      cluster: "c2", title: "Cancun ğŸ‡²ğŸ‡½",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster3_H7MKluEVN.png?tr=w-400,h-300",
      cluster: "c3", title: "Geneva ğŸ‡¨ğŸ‡­",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster4_xGLusmCWR.png?tr=w-400,h-300",
      cluster: "c4", title: "Phuket ğŸ‡¹ğŸ‡­",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster5_FKKzRyfNT.png?tr=w-400,h-300",
      cluster: "c5", title: "Nice ğŸ‡«ğŸ‡·",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster6_nhuLO62dE.png?tr=w-400,h-300",
      cluster: "c6", title: "Valencia ğŸ‡ªğŸ‡¸",
    },
  
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster7_laI6ReOvO.jpg?tr=w-400,h-300",
      cluster: "c7", title: "Changwon ğŸ‡°ğŸ‡·",
    },
  
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster8_DksRdaCNx.jpg?tr=w-400,h-300",
      cluster: "c8", title: "Kaila Kona Hawaii ğŸ‡ºğŸ‡¸",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster9_GWsQgB8AcG.png?tr=w-400,h-300",
      cluster: "c9", title: "Montreal ğŸ‡¨ğŸ‡¦",
    },
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster10_usDtBojMm.jpg?tr=w-400,h-300",
      cluster: "c10", title: "San Pedro ğŸ‡¨ğŸ‡®",
    },
  
    {
      link:
        "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster11_pZtN1OMiL.jpg?tr=w-400,h-300",
      cluster: "c11", title: "Palm Coast ğŸ‡ºğŸ‡¸",
    },
    {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster12_Ql29Afnn4.png?tr=w-400,h-300",
        cluster: "c12", title: "Baku ğŸ‡¦ğŸ‡¿",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster13_zCIVpjDF5dT1.png?tr=w-400,h-300",
        cluster: "c13", title: "Minoh ğŸ‡¯ğŸ‡µ",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster14_Jk-HS629s.png?tr=w-400,h-300",
        cluster: "c14", title: "Ã–rebro ğŸ‡¸ğŸ‡ª",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster15_JvyBGJ7TE.png?tr=w-400,h-300",
        cluster: "c15", title: "Salamina ğŸ‡¬ğŸ‡·",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster16_pcfPUCfg_Ts.jpg?tr=w-400,h-300",
        cluster: "c16", title: "Okinawa ğŸ‡¯ğŸ‡µ",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster17__QQ7qXpj5v.png?tr=w-400,h-300",
        cluster: "c17", title: "Helsinki ğŸ‡«ğŸ‡®",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster18_3gj7yH9Bd.png?tr=w-400,h-300",
        cluster: "c18", title: "Caracas ğŸ‡»ğŸ‡ª",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster19_flU5I2VtZTv.png?tr=w-400,h-300",
        cluster: "c19", title: "Aberdeen ğŸ‡¬ğŸ‡§",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster20_d4tfjXvGG29.png?tr=w-400,h-300",
        cluster: "c20", title: "Shanghai ğŸ‡¨ğŸ‡³",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster21_ru42dOmCY.jpg?tr=w-400,h-300",
        cluster: "c21", title: "Graz ğŸ‡¦ğŸ‡¹",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster22_zioH14HE6.jpg?tr=w-400,h-300",
        cluster: "c22", title: "Leon ğŸ‡ªğŸ‡¸",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster23_qJ55Sd28g.webp?tr=w-400,h-300",
        cluster: "c23", title: "Palmas ğŸ‡§ğŸ‡·",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster24_kNAi2uAs95i.png?tr=w-400,h-300",
        cluster: "c24", title: "Amsterdam ğŸ‡³ğŸ‡±",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster25_LCMKu641u.jpg?tr=w-400,h-300",
        cluster: "c25", title: "Volgograd ğŸ‡·ğŸ‡º",
      },

      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster26_7QE_dd9bq.png?tr=w-400,h-300",
        cluster: "26c", title: "Cosenza ğŸ‡®ğŸ‡¹",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster27_EJ5Vdqp5b.png?tr=w-400,h-300",
        cluster: "c27", title: "Huntington Beach California ğŸ‡ºğŸ‡¸",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster28_hKG1_8-bq.png?tr=w-400,h-300",
        cluster: "c28", title: "Rionegro ğŸ‡¨ğŸ‡´",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster29_DeF8X2BKaz.png?tr=w-400,h-300",
        cluster: "c29", title: "Miami Florida ğŸ‡ºğŸ‡¸",
      },
      
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster30_V4sQ9sbN3.png?tr=w-400,h-300",
        cluster: "c30", title: "Taketa ğŸ‡¯ğŸ‡µ",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster31_j2RWrXD2P.png?tr=w-400,h-300",
        cluster: "c31", title: "Hangzhou ğŸ‡¨ğŸ‡³",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster32_sFlhbycJkn.png?tr=w-400,h-300",
        cluster: "c32", title: "Gothenburg ğŸ‡¸ğŸ‡ª",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster33_zEQaQHXAf2.png?tr=w-400,h-300",
        cluster: "c33", title: "Mar del Plata ğŸ‡¦ğŸ‡·",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster34_0AlgZfEHbR.png?tr=w-400,h-300",
        cluster: "c34", title: "Tromso ğŸ‡³ğŸ‡´",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster35_JqsbPeXsO.jpg?tr=w-400,h-300",
        cluster: "c35", title: "Rzeszow ğŸ‡µğŸ‡±",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster36_57mAth1pVe.png?tr=w-400,h-300",
        cluster: "c36", title: "Istanbul ğŸ‡¹ğŸ‡·",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster37_80wJ7YAxvz.jpg?tr=w-400,h-300",
        cluster: "c37", title: "Gyumri ğŸ‡¦ğŸ‡²",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster38_lGjOp5DnB.png?tr=w-400,h-300",
        cluster: "c38", title: "Tottori ğŸ‡¯ğŸ‡µ",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster39_7gbQ9ue19.png?tr=w-400,h-300",
        cluster: "c39", title: "Kuwait City ğŸ‡°ğŸ‡¼",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster40_T9bWFTLPb.png?tr=w-400,h-300",
        cluster: "c40", title: "Paris ğŸ‡«ğŸ‡·",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster41_cvbr8IO6VJ5.jpg?tr=w-400,h-300",
        cluster: "c41", title: "MÃ¼lheim ğŸ‡©ğŸ‡ª",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster42_p6S8O8ol09r.png?tr=w-400,h-300",
        cluster: "c42", title: "Kerry ğŸ‡®ğŸ‡ª",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster43_agH4m4cVO.jpg?tr=w-400,h-300",
        cluster: "c43", title: "Jackson Missisipi ğŸ‡ºğŸ‡¸",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster44_e4RCIOhhW2y.jpg?tr=w-400,h-300",
        cluster: "c44", title: "Porirua ğŸ‡³ğŸ‡¿",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster45_hbN8Ua-JF.jpg?tr=w-400,h-300",
        cluster: "c45", title: "Eskisehir ğŸ‡¹ğŸ‡·",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster46_z9L2k9VTFd.png?tr=w-400,h-300",
        cluster: "c46", title: "Monza ğŸ‡®ğŸ‡¹",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster47_Jny3AxxLv_.png?tr=w-400,h-300",
        cluster: "c47", title: "Santiago ğŸ‡¨ğŸ‡±",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster48_p5fpOCWZHrm.jpg?tr=w-400,h-300",
        cluster: "c48", title: "Melitopol ğŸ‡ºğŸ‡¦",
      },
      {
        link:
          "https://ik.imagekit.io/7zlqc1cmihe/area-clusters/cluster49_x1jzHKvPz.png?tr=w-400,h-300",
        cluster: "c49", title: "Kamloops ğŸ‡¨ğŸ‡¦",
      },
  ];

  

const AreaClusterContainer = () => {


    const dispatch = useDispatch();
    const clusters   = useSelector(state => state.clusters.selectedClusters)
    //const [clusters, setClusters] = useState([])

    const handleCluster = (cluster) => { 
        let cls =[]
        console.log("area is: ", cluster)
        if(clusters.includes(cluster)) {

            //console.log("remove from clusters")
            //cls = clusters.filter((element) => { return element !== cluster  })
            //setClusters(cls)
            dispatch(removeFromClusters(cluster))


        } else { 
  
          // cls = [...clusters,cluster]
         // setClusters(cls)
         dispatch(addToClusters(cluster))
          
          //console.log("added to clusters and clusters are: ", cls)
  
        }
       
  
  
    }
  
  return (
    <div className={styles.wrapper}>
     
    <div className={styles.title}> Select some destinations you like.</div>
      <div className={styles.arrowHolder}>
         
              <div className={styles.arrowLeft3}>
              <FaChevronLeft />
            </div>
            <div className={styles.arrowRight3}>
              <FaChevronRight />
            </div>
          </div>
            
          <div className={styles.slideHolder}>
            {areas.map((area) => (
              <button className={ clusters.includes(area.cluster) ? styles.selected :  styles.notSelected} onClick={() => {handleCluster(area.cluster)}}> 
                <ImageShadow
                  src={area.link}
                  className={styles.slideElement}
                  shadowBlur={10}
                  width={300}
                  alt="a"
                  
                />
                <div className={styles.slideText2}>
                  {area.title}
                </div>
              </button>
            ))}
          </div>
    </div>
  )
}




export default AreaClusterContainer
